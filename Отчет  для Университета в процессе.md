# Отчет по производственной практике (преддипломной)

Тема практики: разработка и сопровождение веб-приложения `Solid Social Network`  
Формат: индивидуальный проект (fullstack)  
Период практики: `__дд.мм.гггг__` - `__дд.мм.гггг__`  
Студент: `__ФИО__`  
Группа: `__группа__`  
Руководитель от вуза: `__ФИО, должность__`  
Руководитель от базы практики: `__ФИО, должность__`

---

## 1. Введение

В период преддипломной производственной практики выполнена разработка и техническое сопровождение fullstack веб-проекта `Solid Social Network`, представляющего собой SPA-социальную платформу с модулями общения в реальном времени, мультимедиа и административного управления.

Практика была ориентирована на закрепление профессиональных компетенций в области проектирования, разработки, тестирования и развёртывания современных веб-систем.

## 2. Цель и задачи практики

### 2.1 Цель практики

Закрепление теоретических знаний и получение практических навыков разработки промышленного веб-приложения полного цикла: от проектирования архитектуры до тестирования и эксплуатации.

### 2.2 Задачи практики

1. Провести анализ требований к функционалу социальной платформы.
2. Спроектировать архитектуру клиент-серверного приложения.
3. Реализовать backend на Laravel с безопасным API.
4. Реализовать frontend SPA на Vue 3.
5. Внедрить realtime-механику чатов.
6. Реализовать модули Radio и IPTV.
7. Подготовить административный модуль управления системой.
8. Реализовать аналитический дашборд администратора и трекинг активности пользователей.
9. Провести тестирование ключевых пользовательских и админских сценариев.
10. Подготовить инфраструктуру запуска (локально, Docker, production).
11. Оформить техническую документацию по проекту.

## 3. Краткая характеристика проекта (объекта практики)

`Solid Social Network` — это SPA-приложение на стеке `Laravel + Vue`, включающее:

- пользовательские профили и ленту публикаций,
- лайки, комментарии, репосты, счётчик просмотров,
- realtime-чаты (личные и общий),
- интернет-радио с избранным,
- IPTV с режимами direct/proxy/transcode/relay,
- административную панель с аналитическим дашбордом,
- серверный heartbeat-трекинг активности по feature (`social/chats/radio/iptv`),
- client-side event трекинг для видео, upload-failure, радио и IPTV,
- выгрузку аналитики дашборда за выбранный диапазон дат в `Excel (.xls)` и `JSON`,
- мультиязычный интерфейс (RU/EN),
- встроенные механизмы безопасности и валидации.

## 4. Выполненные работы в период практики

### 4.1 Проектирование архитектуры

Выполнено проектирование модульного монолита:

- выделены домены `User`, `Post`, `Chat`, `Radio`, `IPTV`, `Admin`, `Settings`,
- определены маршруты API и роли доступа,
- спроектированы связи сущностей в БД,
- определена схема realtime-взаимодействия через Laravel Reverb.

### 4.2 Разработка backend-части

Реализованы:

- REST API на Laravel 10,
- аутентификация через Sanctum,
- проверка подтверждения email для защищенных API,
- админские middleware-ограничения,
- бизнес-логика в сервисном слое,
- выдача медиа с проверкой прав доступа,
- серверный endpoint heartbeat и агрегирование активности в отдельные таблицы,
- серверный endpoint client analytics events и хранение transport/media/video событий для дашборда и export.
- публичный endpoint client runtime log и lifetime text log ошибок сайта с архивированием.

Отдельно подготовлен единый документ по методике аналитики:

- `docs/analytics-metrics.md`

В нём описаны:

- точные таблицы и endpoint-источники данных;
- формулы расчёта KPI, retention, content, chats, media, radio, IPTV и moderation-блоков;
- логика fallback между heartbeat-данными и action-based аналитикой;
- правила проверки цифр вручную через `php artisan tinker`.

Ключевые backend-модули:

- посты и медиа (`PostController`, `PostService`, `PostImageController`),
- пользователи и подписки (`UserController`),
- чаты и архивы (`ChatController`),
- IPTV и Radio (`IptvController`, `RadioController`),
- админка (`AdminController`),
- аналитика (`ActivityHeartbeatController`, `AnalyticsEventController`, `AdminDashboardService`),
- настройки сайта (`SiteSettingController`).

### 4.3 Разработка frontend-части

Реализованы:

- SPA на Vue 3 + Vue Router,
- защищенные маршруты по ролям и состоянию авторизации,
- интеграция с API через Axios,
- обработка CSRF-сценариев,
- realtime-интеграция через Echo/Reverb,
- heartbeat-синхронизация активности на уровне App shell,
- отдельные интерфейсы для чатов, IPTV, радио, админки, профиля и ленты, включая вкладку аналитического дашборда и отдельную вкладку журнала ошибок,
- очередь загрузки медиа в личном кабинете с видимым прогрессом, статусами и ошибками по каждому файлу,
- доработанный адаптив радио-интерфейса: компактный mobile-блок "Сейчас играет", сворачиваемые найденные станции, карусели подборок/избранного, контрастные темы и улучшенная читаемость счетчиков/плашек,
- глобальная кнопка возврата в начало раздела для длинных экранов с адаптивным позиционированием.

### 4.4 Реализация безопасности

В проект внедрены:

- CSRF-защита и cookie-based auth,
- CORS-политики для доверенных источников,
- route-level rate limiting API (включая отдельные лимиты для `feedback`, `media`, публичных и авторизованных endpoint),
- отдельный throttle для public client error endpoint (`30 req/min`),
- отдельный throttle для heartbeat endpoint (`120 req/min`),
- отдельный throttle для client analytics endpoint (`240 req/min`),
- фильтрация небезопасной разметки (`NoUnsafeMarkup`),
- upload-валидация пост-медиа с приоритетом серверного `MIME`/`Fileinfo` и отклонением замаскированных non-media файлов,
- защита IPTV/Radio URL от SSRF (блокировка localhost/private/reserved),
- строгая авторизация broadcast-каналов.

### 4.5 Тестирование

Проведено функциональное тестирование с использованием PHPUnit (Feature tests):

- проверка доступа и прав пользователей,
- проверка безопасности API,
- проверка сценариев чатов и realtime,
- проверка IPTV и радио-сценариев,
- проверка админских модулей,
- проверка heartbeat-трекинга и time-based аналитики дашборда,
- проверка client analytics endpoint и расширенных dashboard/export метрик (`retention/content/media/radio/IPTV/errors`),
- проверка lifetime error log: server/client/analytics failure записи, preview, поиск, фильтр, filtered export и archive rotation,
- проверка диапазонов дат и экспорта дашборда (`xls/json`),
- проверка route-level rate limits и lockout-механизма логина (`retry_after`),
- проверка сидера демо-контента и placeholder-изображений.
- для объяснения заказчикам и на защите добавлен отдельный документ `docs/analytics-metrics.md` с формулами, таблицами-источниками, алгоритмами расчёта и ручной верификацией.

Дополнительно введены unit-тесты frontend helper-логики:

- `npm run test:js` (таймеры, IPTV-session helpers, поиск по карусели авторов и логика кнопки возврата в начало).
- `php artisan test tests/Feature/SwaggerDocumentationFeatureTest.php` (генерация Swagger/OpenAPI, наличие ключевых маршрутов, включая client analytics/admin diagnostics error-log/export, и доступность UI).

Актуальные результаты полного прогона (1 марта 2026):

- `php artisan test`: `205 passed`, `1760 assertions`.
- `npm run test:js`: `33 passed`.
- `npm audit`: `0 vulnerabilities`.
- `composer audit --format=json`: `0 advisories`, при этом `doctrine/annotations` остается `abandoned` транзитивной зависимостью через `l5-swagger` без security advisory.

Также стабилизирован тестовый bootstrap Laravel: тестовое окружение принудительно задается до старта приложения, а тестовые `storage/cache` пути изолируются по процессу, что устранило конфликты прав в Docker-среде.

### 4.6 Подготовка инфраструктуры и эксплуатации

Подготовлены:

- запуск в локальной среде (PHP, Node, MySQL),
- Docker-конфигурация (`app`, `web`, `db`, `websocket`, `frontend-build`),
- production-инструкция развертывания (Nginx + PHP-FPM + Supervisor),
- production-конфигурация upload-лимита на уровне `Nginx` под размер медиа до `200 MB`,
- production-настройки lifetime error log: путь, archive path, лимиты ротации по размеру/возрасту и optional gzip-сжатие архивов,
- сид демо-контента (`DemoSocialContentSeeder`) с placeholder-изображениями (`loremflickr.com` + fallback).

## 5. Использованные технологии и инструменты

Backend:

- PHP 8.2/8.3
- Laravel 10
- Laravel Sanctum
- Laravel Reverb

Frontend:

- Vue 3
- Vue Router
- Vite
- Axios

Streaming:

- FFmpeg
- hls.js
- dash.js
- mpegts.js
- plyr

Инфраструктура:

- MySQL 8.4
- Docker Compose
- Nginx
- Supervisor
- Git

## 6. Результаты практики

По итогам практики получен работоспособный полнофункциональный веб-проект с:

- реализованным пользовательским и административным функционалом,
- аналитическим модулем (дашборд + heartbeat + client analytics events),
- operational diagnostics модулем с lifetime text log ошибок, поиском, filtered export и archive rotation,
- интеграцией realtime,
- работающими мультимедийными модулями,
- тестовым покрытием критичных сценариев,
- подготовленной технической документацией.

Практическая значимость результата:

- проект можно использовать как основу выпускной квалификационной работы,
- проект демонстрирует практические навыки fullstack-разработки,
- проект пригоден для демонстрации работодателю как pet-проект уровня production-ready MVP.

## 7. Сформированные профессиональные компетенции

В ходе практики сформированы и закреплены навыки:

1. Проектирование архитектуры веб-приложений.
2. Разработка серверной логики и API.
3. Разработка SPA-интерфейсов.
4. Обеспечение информационной безопасности веб-систем.
5. Тестирование и отладка программного обеспечения.
6. Работа с DevOps-инструментами и контейнеризацией.
7. Подготовка технической документации.

## 8. Заключение

Цель преддипломной производственной практики достигнута.  
Все поставленные задачи выполнены: от проектирования и разработки до тестирования и документирования.

Полученный результат подтверждает готовность к выполнению выпускной квалификационной работы по направлению разработки и сопровождения современных web-систем.

## 9. Список использованных источников

1. Laravel Documentation. URL: https://laravel.com/docs  
2. Vue.js Documentation. URL: https://vuejs.org/guide  
3. Laravel Sanctum Documentation. URL: https://laravel.com/docs/sanctum  
4. Laravel Reverb Documentation. URL: https://laravel.com/docs/reverb  
5. Vite Documentation. URL: https://vitejs.dev/guide  
6. FFmpeg Documentation. URL: https://ffmpeg.org/documentation.html  
7. README проекта `social-network`  
8. DEPLOY документация проекта `social-network`

## 10. Приложения

В качестве приложений к отчету могут быть приложены:

- скриншоты интерфейса (главная, чат, радио, IPTV, админка),
- листинг ключевых API-маршрутов,
- результаты запуска тестов,
- диаграмма архитектуры,
- ссылка на репозиторий проекта.

---

### Примечание для сдачи в вуз

Перед печатью/сдачей рекомендуется:

1. Заполнить титульные поля (ФИО, группа, сроки, руководители).
2. Добавить фактические даты и место прохождения практики.
3. При необходимости привести названия разделов к методичке вашего вуза.
4. Приложить скриншоты и подписи к ним как отдельные приложения.
